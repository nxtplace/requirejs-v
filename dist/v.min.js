define(["module"],function(e){"use strict";var n="0.1.2",o=!1,r=Array.isArray;r||(r=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t="v",s=function(e){if(o)try{if("undefined"!=typeof console&&console.log&&console.log.apply){var n=arguments;Array.prototype.unshift.call(n,"V: "),console.log.apply(console,n)}}catch(r){}},i=function(e,n){var o,r,t,s=e.split("?"),i=s[0].split("/");for(n&&s.length>1&&s.pop(),r=1;r<i.length;r++)if(o=i[r],"."==o){for(t=r+1;t<i.length;t++)i[t-1]=i[t];i.pop(),r--}else if(".."==o){if(".."==i[r-1])continue;if("."==i[r-1])continue;for(t=r+1;t<i.length;t++)i[t-2]=i[t];i.pop(),i.pop(),r-=2}return s[0]=i.join("/"),s.join("?")},u={debug:!1,transformOnTheFly:!0,noGlobalExports:!1},a=function(e,n){for(var o in e)n.hasOwnProperty(o)||(n[o]=e[o]);return n},f=e.config&&e.config()||{},l=(Object.prototype.toString,{}),c="node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"],d=function(e,n,o,r,t){var s,i=require.nodeRequire("fs"),u="";try{n.forEach(function(n){n=url=e.toUrl(n+".js"),s=n,n=i.readFileSync(url,"utf8"),n="\ufeff"===n[0]?"\n"+n.substring(1):"\n"+n,u+=n+"\n"}),o(u)}catch(a){console.error("Error loading file "+s+": "+a),r&&r(a)}},p=function(e,n,o,r,t){s("getBrowser: ",n),e(n,function(e){o(e)})},g={version:n,get:c?d:p,transform:function(e){var n,o,r=e.dependencies||[],t=e.replaceConfig,i=e.rawdata,u=e.staticModuleName,a=e.debugName||e.staticModuleName||"",f=e.result,l=f.modules=[],c={},d=i;if(/define\s*\(/.test(d)){s("transform: find dependencies ",a);var p=/define\s*\(\s*(['"]).+?\1\s*,\s*\[([^\]]+)\]\s*,\s*function\s*\(/g,g=/define\s*\(\s*\[([^\]]+)\]\s*,\s*function\s*\(/g,v=function(e,r){for(var t;(n=e.exec(d))&&n.length>1;)if(o=n[r],t=/^\s*(['"])(.+?)\1(\s*,\s*(['"])(.+?)\3)*\s*$/,t.test(o))for(t=/(['"])(.+?)\1/g;(n=t.exec(o))&&n.length>1;)n=n[2],c[n]!==!0&&(c[n]=!0,l.push(n))};v(p,2),v(g,1)}else{s("transform code: ",a);for(var h=0;h<r.length;h++)o=r[h],c[o]!==!0&&(l.push(o),c[o]=!0);var m=/([^a-zA-Z0-9\._])require\s*\(\s*(['"])([^']+)\2\s*\)/g;for(n=m.exec(d);n&&n.length>2;)o=n[3],c[o]!==!0&&(l.push(o),c[o]=!0),n=m.exec(d);l.unshift("module"),l.unshift("require");var y=JSON.stringify(l);d="define("+(u?'"'+u+'", ':"")+y+", function(require, module) { \n"+(t.noGlobalExports?"":"var exports = module.exports; \n")+i+(t.noGlobalExports?"":NaN)+"\n});\n",s("found modules",l),f.modules=l}return f.data=d,d},parseName:function(e){var n,o,r,t=!1,s=e.lastIndexOf("."),i=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!i||s>1)?(n=e.substring(0,s),o=e.substring(s+1)):n=e,r=o||n,s=r.indexOf("!"),-1!==s&&(t="strip"===r.substring(s+1),r=r.substring(0,s),o?o=r:n=r),{moduleName:n,ext:o,strip:t}},load:function(e,n,f,c){var d=e;c.config.v||(c.config.v={});var p,v=a(u,a(c.config.v,{})),h=v[e]||v,m=[],y=c.isBuild,x=(y?h.optimize:!0,!y&&v.transformOnTheFly),b=[];o=!y&&v.debug,s("Load: ",e),function(){var o=e;if(c.shim&&c.shim[e]&&!c.shim[t+"!"+e]){var u=c.shim[e];r(u)?b=u:u.deps&&r(u.deps)&&(b=u.deps)}c.shim[e]&&(c.shim[t+"!"+e]=c.shim[e]),c.paths[e]&&(o=n.toUrl(e),s("Load.0 ",o),o=i(o,!0),s("Load.1 ",o)),y?p=o:(x?p="text!"+o+".js":(p="v/"+o,c.paths[p]="../v/app/"+o),s("Load.2 ",p)),m.push(p)}(),g.get(n,m,function(o){var r=d;s("GOT ",d);var u={debugName:t+"!"+r,dependencies:b||[],replaceConfig:v,rawdata:o,staticModuleName:null,result:{}};if(y){var a={};u.result=a,u.staticModuleName=null,o=g.transform(u),l[r]=o;var c=[],p={},h=function(n){if(!n||!y)return n;var o=n.split("!"),r=o[o.length-1];if(0===r.indexOf(".")){var t=i(e+"/../");r=i(t+r),o[o.length-1]=r,n=o.join("!")}return n};if(u.dependencies.forEach(function(e){e=h(e),p[e]!==!0&&(p[e]=!0,c.push(e))}),a.modules.forEach(function(e){"require"!=e&&"module"!=e&&(e=h(e),p[e]!==!0&&(p[e]=!0,c.push(e)))}),0===c.length)f(o);else{if(s("Load dependencies",d,c),y){var m=n.toUrl;n.toUrl2=function(n){if(n){var o=n.split("!"),r=o[o.length-1];if(0===r.indexOf(".")){var t=i(e+"/../");r=i(t+r),o[o.length-1]=r,n=n.join(o)}return m(n)}}}n(c,function(){f(o)})}}else if(x){var O=t+"!"+r;if(s("GOT ",O),o=g.transform(u),!y&&r&&"undefined"!=typeof document&&document.location){var N=document.location.protocol+"//"+document.location.host;N+=n.toUrl(r+".js"),o+="\n\n//# sourceURL="+N}f.fromText(o)}else s("DONE "),f(o)},function(e){f.error&&f.error(e)},v)},write:function(e,n,o,r){l.hasOwnProperty(n)&&o.asModule(e+"!"+n,l[n])},writeFile:function(e,n,o,r,t){var s=n,i=o.toUrl(n+".js");g.load(s,o,function(n){var o=function(e){return r(i,e)};o.asModule=function(e,n){return r.asModule(e,i,n)},g.write(e,s,o,t)},t)}};return g});
//# sourceMappingURL=dist/v.min.map